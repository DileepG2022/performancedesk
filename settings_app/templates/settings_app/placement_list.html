{% extends "base.html" %}
{% block content %}
<div class="container mt-5">
    <h2 class="text-center mb-4">Placement Team</h2>

    {% if messages %}
      {% for message in messages %}
        <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
          {{ message }}
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
      {% endfor %}
    {% endif %}

    <a href="{% url 'add_placement' %}" class="btn btn-success mb-3">+ Add Placement Staff</a>

    <div class="table-responsive">
      <table class="table table-striped table-bordered align-middle">
          <thead class="table-dark">
              <tr>
                  <th>Name</th>
                  <th>Username</th>
                  <th>Email</th>
                  <th>Branch</th>
                  <th>Mobile</th>
                  <th>WhatsApp</th>
                  <th>Actions</th>
              </tr>
          </thead>
          <tbody>
              {% for placement in placements %}
              <tr>
                  <td>{{ placement.user.first_name }} {{ placement.user.last_name }}</td>
                  <td>{{ placement.user.username }}</td>
                  <td>{{ placement.user.email }}</td>
                  <td>{{ placement.branch.name }}</td>
                  <td>{{ placement.mobile_no }}</td>
                  <td>{{ placement.whatsapp_no }}</td>
                  <td>
                      <a href="{% url 'edit_placement' placement.id %}" class="btn btn-warning btn-sm">Edit</a>
                      <a href="{% url 'delete_placement' placement.id %}" class="btn btn-danger btn-sm">Delete</a>
                  </td>
              </tr>
              {% empty %}
              <tr>
                  <td colspan="7" class="text-center">No placement staff found.</td>
              </tr>
              {% endfor %}
          </tbody>
      </table>
    </div>
</div>
{% endblock %}
